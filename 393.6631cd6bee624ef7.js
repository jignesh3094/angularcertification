"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[393],{2393:(C,l,n)=>{n.r(l),n.d(l,{LeagueModule:()=>_});var i=n(22),u=n(727),e=n(8256),c=n(8968),p=n(954),r=n(6895);function d(a,s){1&a&&(e.TgZ(0,"div",2),e._UZ(1,"span",3),e.qZA())}function m(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"img",8),e.qZA(),e.TgZ(5,"td")(6,"a",9),e.NdJ("click",function(){const T=e.CHM(t).$implicit,x=e.oxw(3);return e.KtG(x.teamClick(T.team))}),e._uU(7),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA()()}if(2&a){const t=s.$implicit,o=e.oxw(3);e.xp6(2),e.Oqu(t.rank),e.xp6(2),e.s9C("src",t.team.logo,e.LSH),e.xp6(2),e.Q6J("ngClass",t.team.id==o.selectedTeam?"active":""),e.xp6(1),e.Oqu(t.team.name),e.xp6(2),e.Oqu(t.all.played),e.xp6(2),e.Oqu(t.all.win),e.xp6(2),e.Oqu(t.all.lose),e.xp6(2),e.Oqu(t.all.draw),e.xp6(2),e.Oqu(t.goalsDiff),e.xp6(2),e.Oqu(t.points)}}function h(a,s){if(1&a&&(e.TgZ(0,"tbody"),e.YNc(1,m,20,10,"tr",7),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.leagueList)}}function f(a,s){1&a&&(e.TgZ(0,"tbody")(1,"tr")(2,"td",10),e._uU(3,"No Record Found"),e.qZA()()())}function Z(a,s){if(1&a&&(e.TgZ(0,"table",4)(1,"thead")(2,"tr"),e._UZ(3,"th",5)(4,"th",5),e.TgZ(5,"th",5),e._uU(6,"Name"),e.qZA(),e.TgZ(7,"th",5),e._uU(8,"Games"),e.qZA(),e.TgZ(9,"th",5),e._uU(10,"W"),e.qZA(),e.TgZ(11,"th",5),e._uU(12,"L"),e.qZA(),e.TgZ(13,"th",5),e._uU(14,"D"),e.qZA(),e.TgZ(15,"th",5),e._uU(16,"Goal Difference"),e.qZA(),e.TgZ(17,"th",5),e._uU(18,"Points"),e.qZA()()(),e.YNc(19,h,2,1,"tbody",6),e.YNc(20,f,4,0,"tbody",6),e.qZA()),2&a){const t=e.oxw();e.xp6(19),e.Q6J("ngIf",!t.apiFailed),e.xp6(1),e.Q6J("ngIf",t.apiFailed)}}const b=[{path:"",component:(()=>{class a{constructor(t,o,g){this.toastr=t,this.dataService=o,this.router=g,this.countrySubsription=new u.w0,this.apiFailed=!1,this.loader=!0,this.leagueSubscription=new u.w0}ngOnInit(){this.countrySubsription=this.dataService.selectedCounty.subscribe(t=>{t&&this.getLeagueData(t)})}teamClick(t){this.selectedTeam=t.id,this.router.navigate(["/detail/",t.id])}getLeagueData(t){if(this.loader=!0,"leagueData"in localStorage){let o=JSON.parse(localStorage.getItem("leagueData"));this.setLeagueResponse(o)}else this.leagueSubscription=this.dataService.getLeaguesData(t).subscribe(o=>{localStorage.setItem("leagueData",JSON.stringify(o)),this.setLeagueResponse(o)})}setLeagueResponse(t){this.loader=!1,t.errors&&(this.error=t.errors),t&&t.response&&t.response.length>0&&t.response[0].league&&t.response[0].league.standings&&t.response[0].league.standings.length>0?(this.apiFailed=!1,this.leagueList=t.response[0].league.standings[0]):this.error.requests?(localStorage.removeItem("leagueData"),this.toastr.error("Error!",this.error.requests),this.apiFailed=!0):(localStorage.removeItem("leagueData"),this.toastr.error("Error!",this.error.access),this.apiFailed=!0)}ngOnDestroy(){this.leagueSubscription&&this.leagueSubscription.unsubscribe(),this.countrySubsription&&this.countrySubsription.unsubscribe()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(c._W),e.Y36(p.D),e.Y36(i.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-league"]],decls:2,vars:2,consts:[["class","spinner-border mt-10","role","status",4,"ngIf"],["class","table table-bordered mt-10",4,"ngIf"],["role","status",1,"spinner-border","mt-10"],[1,"sr-only"],[1,"table","table-bordered","mt-10"],["scope","col"],[4,"ngIf"],[4,"ngFor","ngForOf"],["height","40","width","40",3,"src"],[1,"cursor",3,"ngClass","click"],["colspan","9"]],template:function(t,o){1&t&&(e.YNc(0,d,2,0,"div",0),e.YNc(1,Z,21,2,"table",1)),2&t&&(e.Q6J("ngIf",o.loader),e.xp6(1),e.Q6J("ngIf",!o.loader))},dependencies:[r.mk,r.sg,r.O5],styles:[".mt-10[_ngcontent-%COMP%]{margin-top:1rem}.cursor[_ngcontent-%COMP%]{cursor:pointer}.active[_ngcontent-%COMP%]{border-bottom:.5rem solid black!important}"]}),a})()}];let _=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[i.Bz.forChild(b),r.ez,i.Bz]}),a})()}}]);